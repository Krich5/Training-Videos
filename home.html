<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Training Portal</title>
<meta name="color-scheme" content="dark">
<style>
body{margin:0;font-family:ui-sans-serif,system-ui;background:#0b1020;color:#e9edf5;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh}
.card{background:#131a2a;padding:24px 30px;border-radius:16px;border:1px solid rgba(255,255,255,.08);width:90%;max-width:400px;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,.25)}
h1{margin:0 0 8px}
.sub{color:#92a0b8;margin-bottom:18px}
input{width:100%;padding:10px 12px;margin:6px 0;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:#0e1525;color:#e9edf5;outline:none;text-transform:uppercase}
.btn{margin-top:14px;padding:10px 18px;border:none;border-radius:12px;background:linear-gradient(135deg,#22d3ee,#3b82f6);color:#06111d;font-weight:700;cursor:pointer}
.err{margin-top:10px;color:#f87171;font-weight:700}
</style>
</head>
<body>
<div class="card">
  <h1>Training Portal</h1>
  <div class="sub">Enter your name and 10-character access code</div>
  <input id="name" placeholder="Your name">
  <input id="code" placeholder="Access code" maxlength="10">
  <button id="go" class="btn">Enter</button>
  <div id="msg" class="err"></div>
</div>
<script>
const SCRIPT_URL = "YOUR_EXEC_URL_HERE";
document.getElementById('go').onclick = async ()=>{
  const name=document.getElementById('name').value.trim();
  const code=document.getElementById('code').value.trim().toUpperCase();
  const msg=document.getElementById('msg');
  if(!name||code.length!==10){msg.textContent='Enter name and valid code';return;}
  msg.textContent='';
  try{
    const res=await fetch(SCRIPT_URL,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({mode:'validate',code})});
    const data=await res.json();
    if(!data.ok){msg.textContent=data.error||'Invalid';return;}
    sessionStorage.setItem('tp_user',JSON.stringify({name,course:data.course,company:data.company}));
    location.href='videos.html';
  }catch(e){msg.textContent='Network error';}
};
</script>
</body>
</html>
